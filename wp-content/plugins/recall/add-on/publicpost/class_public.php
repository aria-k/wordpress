<?phpclass RCL_public{	function step_one_redactor_post(){		global $user_ID,$wpdb;		$post_id = $_POST['post_id'];			$post_array = $wpdb->get_row("SELECT * FROM ".$wpdb->prefix."posts WHERE ID='$post_id'");		$title = $post_array->post_title;		$content = $post_array->post_content;		if($user_ID){			 $log['result']=100;			 $log['content']= "			 			 <div style='display:block;' class='float-window-recall'>			 <h3>Название:</h3>			 <input type='text' name='post_title' id='post_title_edit' style='width:95%;' value='".$title."'>			 <h3>Описание:</h3>					 <textarea name='post_content' id='content_area_edit' rows='10' style='width:95%;'>".$content."</textarea>			 <input type='hidden' id='post_id_edit'   value='".$post_id."'>			 <input type='button' class='recall-button updatesteptwo' style='float:right;' value='Обновить'>			 <input class='recall-button close-popup' type='button' value='Закрыть'>			 </div>			 <script type='text/javascript'>				jQuery(function(){					jQuery('.close_edit').click(function(){						jQuery('#conteiner').empty();					});				});			 </script>";			 		}		echo json_encode($log);		exit;	}	function step_two_redactor_post(){		global $user_ID,$wpdb;		if(!$user_ID) exit;		$post_id = $_POST['post_id'];			$post_title = $_POST['post_title'];				$post_content = $_POST['post_content'];			$post_array = array();		$post_array['post_title'] = $post_title;		$post_array['post_content'] = $post_content;					$post_array = apply_filters('rcl_pre_edit_post',$post_array);		$result = $wpdb->update(			$wpdb->prefix.'posts',			$post_array,			array('ID'=>$post_id)		);		if($result){			$log['post_id']=$post_id;			$log['post_title']=$post_title;			$log['post_content']=$post_content;			$log['otvet']=100;					} 		echo json_encode($log);		exit;	}}	?>